{"ast":null,"code":"var _jsxFileName = \"/Volumes/Transcend/projects/newsapp/newsapp-client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./css/style.scss\";\nimport SearchBar from \"./components/SearchBar\";\nimport ArticleContainer from \"./components/ArticleContainer\";\nimport GoTop from \"./components/GoTop\";\nimport ReadLaters from \"./components/ReadLaters\";\n\nconst App = () => {\n  const [data, setData] = useState([]);\n  const [filter, setFilter] = useState({\n    userInput: \"\",\n    userLang: \"\",\n    sortBy: \"\"\n  });\n  const [readLaters, setReadLaters] = useState([]);\n  const fetchURL = \"https://newsmore.herokuapp.com\";\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFilter({ ...filter,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const res = await fetch(`${fetchURL}/articles`, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(filter)\n      });\n      const data = await res.json();\n      setData(data.articles);\n    } catch (err) {\n      console.log(\"Request failed\", err);\n    }\n  };\n\n  useEffect(() => {\n    async function fetchReadLaters() {\n      try {\n        const res = await fetch(`${fetchURL}/readlaters`);\n        const readLaters = await res.json();\n        setReadLaters(readLaters);\n      } catch (err) {\n        console.log(err => console.log(\"Request failed\", err));\n      }\n    }\n\n    fetchReadLaters();\n  }, []);\n\n  const addArticle = async article => {\n    const {\n      url,\n      title\n    } = article;\n    article = {\n      url,\n      title\n    };\n\n    try {\n      const res = await fetch(`${fetchURL}/readlaters`, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(article)\n      });\n      const data = await res.json();\n      setReadLaters([...readLaters, data]);\n    } catch (err) {\n      console.log(\"Request failed\", err);\n    }\n  };\n\n  const removeArticle = async selectedArticle => {\n    try {\n      const res = await fetch(`${fetchURL}/readlaters/${selectedArticle._id}`, {\n        method: \"DELETE\"\n      });\n      res.status === 200 && console.log(\"The data is succesfully deleted.\");\n      const filteredArticles = readLaters.filter(article => {\n        return article._id !== selectedArticle._id;\n      });\n      setReadLaters(filteredArticles);\n    } catch (err) {\n      console.log(\"Request failed\", err);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    handleChange: handleChange,\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ArticleContainer, {\n    articles: data,\n    addArticle: addArticle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), readLaters.length > 0 && /*#__PURE__*/React.createElement(ReadLaters, {\n    articles: readLaters,\n    removeArticle: removeArticle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(GoTop, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/Volumes/Transcend/projects/newsapp/newsapp-client/src/App.js"],"names":["React","useState","useEffect","SearchBar","ArticleContainer","GoTop","ReadLaters","App","data","setData","filter","setFilter","userInput","userLang","sortBy","readLaters","setReadLaters","fetchURL","handleChange","e","name","value","target","handleSubmit","preventDefault","res","fetch","method","headers","Accept","body","JSON","stringify","json","articles","err","console","log","fetchReadLaters","addArticle","article","url","title","removeArticle","selectedArticle","_id","status","filteredArticles","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./css/style.scss\";\nimport SearchBar from \"./components/SearchBar\";\nimport ArticleContainer from \"./components/ArticleContainer\";\nimport GoTop from \"./components/GoTop\";\nimport ReadLaters from \"./components/ReadLaters\";\n\nconst App = () => {\n  const [data, setData] = useState([]);\n  const [filter, setFilter] = useState({\n    userInput: \"\",\n    userLang: \"\",\n    sortBy: \"\",\n  });\n  const [readLaters, setReadLaters] = useState([]);\n  const fetchURL = \"https://newsmore.herokuapp.com\";\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFilter({ ...filter, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const res = await fetch(`${fetchURL}/articles`, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(filter),\n      });\n      const data = await res.json();\n      setData(data.articles);\n    } catch (err) {\n      console.log(\"Request failed\", err);\n    }\n  };\n\n  useEffect(() => {\n    async function fetchReadLaters() {\n      try {\n        const res = await fetch(`${fetchURL}/readlaters`);\n        const readLaters = await res.json();\n        setReadLaters(readLaters);\n      } catch (err) {\n        console.log((err) => console.log(\"Request failed\", err));\n      }\n    }\n    fetchReadLaters();\n  }, []);\n\n  const addArticle = async (article) => {\n    const { url, title } = article;\n    article = { url, title };\n    try {\n      const res = await fetch(`${fetchURL}/readlaters`, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(article),\n      });\n      const data = await res.json();\n      setReadLaters([...readLaters, data]);\n    } catch (err) {\n      console.log(\"Request failed\", err);\n    }\n  };\n\n  const removeArticle = async (selectedArticle) => {\n    try {\n      const res = await fetch(`${fetchURL}/readlaters/${selectedArticle._id}`, {\n        method: \"DELETE\",\n      });\n      res.status === 200 && console.log(\"The data is succesfully deleted.\");\n      const filteredArticles = readLaters.filter((article) => {\n        return article._id !== selectedArticle._id;\n      });\n      setReadLaters(filteredArticles);\n    } catch (err) {\n      console.log(\"Request failed\", err);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header>\n        <SearchBar handleChange={handleChange} handleSubmit={handleSubmit} />\n      </header>\n      <main>\n        <ArticleContainer articles={data} addArticle={addArticle} />\n        {readLaters.length > 0 && (\n          <ReadLaters articles={readLaters} removeArticle={removeArticle} />\n        )}\n        <GoTop />\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}