{"ast":null,"code":"var _jsxFileName = \"/Users/natsuki/Downloads/diaandco/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./css/App.scss\";\nimport SearchBar from \"./components/SearchBar\";\nimport ArticleContainer from \"./components/ArticleContainer\";\nimport GoTop from \"./components/GoTop\";\nconst API_KEY = process.env.REACT_APP_API_KEY;\n\nconst App = () => {\n  const [data, setData] = useState({\n    articles: []\n  });\n  const [userInput, setUserInput] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"\");\n\n  const handleChange = e => {\n    let input = e.target.value;\n\n    switch (e.target.className) {\n      case \"UserSelect\":\n        input === \"none\" ? setSortBy(\"\") : setSortBy(input);\n        break;\n\n      case \"UserInput\":\n        setUserInput(input.toLowerCase());\n        break;\n\n      default:\n        console.log(\"key not found\");\n    }\n  };\n\n  async function fetchData() {\n    let endPoint = \"http://newsapi.org/v2/everything\";\n    let userInputVal = `?q=\"${userInput}\"`;\n    let sortByVal = `&sortBy=\"${sortBy}\"`;\n    const language = \"&language=en\";\n    const apiKey = `&apiKey=${API_KEY}`;\n    let url = endPoint + userInputVal + sortByVal + language + apiKey;\n    fetch(url).then(res => res.json()).then(data => setData(data.articles));\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetchData();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    handleChange: handleChange,\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ArticleContainer, {\n    articles: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(GoTop, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/natsuki/Downloads/diaandco/src/App.js"],"names":["React","useState","useEffect","SearchBar","ArticleContainer","GoTop","API_KEY","process","env","REACT_APP_API_KEY","App","data","setData","articles","userInput","setUserInput","sortBy","setSortBy","handleChange","e","input","target","value","className","toLowerCase","console","log","fetchData","endPoint","userInputVal","sortByVal","language","apiKey","url","fetch","then","res","json","handleSubmit","preventDefault"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,gBAAP;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AAEA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA5B;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC;AAAEY,IAAAA,QAAQ,EAAE;AAAZ,GAAD,CAAhC;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACe,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAAC,EAAD,CAApC;;AAEA,QAAMiB,YAAY,GAAIC,CAAD,IAAO;AAC1B,QAAIC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASC,KAArB;;AACA,YAAQH,CAAC,CAACE,MAAF,CAASE,SAAjB;AACE,WAAK,YAAL;AACEH,QAAAA,KAAK,KAAK,MAAV,GAAmBH,SAAS,CAAC,EAAD,CAA5B,GAAmCA,SAAS,CAACG,KAAD,CAA5C;AACA;;AACF,WAAK,WAAL;AACEL,QAAAA,YAAY,CAACK,KAAK,CAACI,WAAN,EAAD,CAAZ;AACA;;AACF;AACEC,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AARJ;AAUD,GAZD;;AAcA,iBAAeC,SAAf,GAA2B;AACzB,QAAIC,QAAQ,GAAG,kCAAf;AACA,QAAIC,YAAY,GAAI,OAAMf,SAAU,GAApC;AACA,QAAIgB,SAAS,GAAI,YAAWd,MAAO,GAAnC;AACA,UAAMe,QAAQ,GAAG,cAAjB;AACA,UAAMC,MAAM,GAAI,WAAU1B,OAAQ,EAAlC;AACA,QAAI2B,GAAG,GAAGL,QAAQ,GAAGC,YAAX,GAA0BC,SAA1B,GAAsCC,QAAtC,GAAiDC,MAA3D;AAEAE,IAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESxB,IAAD,IAAUC,OAAO,CAACD,IAAI,CAACE,QAAN,CAFzB;AAGD;;AAEDX,EAAAA,SAAS,CAAC,MAAM;AACdyB,IAAAA,SAAS;AACV,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMW,YAAY,GAAInB,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACoB,cAAF;AACAZ,IAAAA,SAAS;AACV,GAHD;;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,YAAY,EAAET,YAAzB;AAAuC,IAAA,YAAY,EAAEoB,YAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,gBAAD;AAAkB,IAAA,QAAQ,EAAE3B,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF;AAOD,CAhDD;;AAkDA,eAAeD,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./css/App.scss\";\nimport SearchBar from \"./components/SearchBar\";\nimport ArticleContainer from \"./components/ArticleContainer\";\nimport GoTop from \"./components/GoTop\";\n\nconst API_KEY = process.env.REACT_APP_API_KEY;\n\nconst App = () => {\n  const [data, setData] = useState({ articles: [] });\n  const [userInput, setUserInput] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"\");\n\n  const handleChange = (e) => {\n    let input = e.target.value;\n    switch (e.target.className) {\n      case \"UserSelect\":\n        input === \"none\" ? setSortBy(\"\") : setSortBy(input);\n        break;\n      case \"UserInput\":\n        setUserInput(input.toLowerCase());\n        break;\n      default:\n        console.log(\"key not found\");\n    }\n  };\n\n  async function fetchData() {\n    let endPoint = \"http://newsapi.org/v2/everything\";\n    let userInputVal = `?q=\"${userInput}\"`;\n    let sortByVal = `&sortBy=\"${sortBy}\"`;\n    const language = \"&language=en\";\n    const apiKey = `&apiKey=${API_KEY}`;\n    let url = endPoint + userInputVal + sortByVal + language + apiKey;\n\n    fetch(url)\n      .then((res) => res.json())\n      .then((data) => setData(data.articles));\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    fetchData();\n  };\n\n  return (\n    <div className=\"App\">\n      <SearchBar handleChange={handleChange} handleSubmit={handleSubmit} />\n      <ArticleContainer articles={data} />\n      <GoTop />\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}