{"ast":null,"code":"var _jsxFileName = \"/Volumes/Transcend/projects/newsmore/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./css/style.scss\";\nimport SearchBar from \"./components/SearchBar\";\nimport ArticleContainer from \"./components/ArticleContainer\";\nimport GoTop from \"./components/GoTop\";\nimport ReadLaterContainer from \"./components/ReadLaterContainer\";\nconst API_KEY = process.env.REACT_APP_API_KEY;\n\nconst App = () => {\n  const [data, setData] = useState({\n    articles: []\n  });\n  const [userInput, setUserInput] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"\");\n  const [ReadLaters, setReadLaters] = useState([]);\n\n  const handleChange = e => {\n    const input = e.target.value;\n\n    switch (e.target.className) {\n      case \"UserSelect\":\n        setSortBy(input);\n        break;\n\n      case \"UserInput\":\n        const trimmedInput = input.replace(/^\\s+|\\s+$|\\s+(?=\\s)/g, \"\");\n        setUserInput(trimmedInput.toLowerCase());\n        break;\n\n      default:\n        console.log(\"User input not found\");\n    }\n  };\n\n  const endPoint = \"http://newsapi.org/v2/everything\";\n\n  async function fetchData() {\n    const userInputVal = `?q=\"${userInput}\"`;\n    const sortByVal = sortBy ? `&sortBy=${sortBy}` : `&sortBy=\"\"`;\n    const language = \"&language=en\";\n    const apiKey = `&apiKey=${API_KEY}`;\n    const url = endPoint + userInputVal + sortByVal + language + apiKey;\n    await fetch(url).then(res => res.json()).then(data => setData({\n      articles: data.articles\n    })).catch(error => console.log(\"Request failed\", error));\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetchData();\n  };\n\n  const getArticles = article => {\n    fetch(\"http://localhost:3000/articles\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(article)\n    }).then(res => res.json()).then(newArticle => setReadLaters([...ReadLaters, newArticle]));\n  };\n\n  useEffect(() => {\n    getArticles();\n  }, []);\n\n  const handleRemove = article => {\n    let filteredArticles = [...ReadLaters].filter(art => art.id !== article.id);\n    setReadLaters([filteredArticles]);\n  };\n\n  useEffect(() => {\n    removeArticles();\n  }, []);\n  console.log(ReadLaters, \"read\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    handleChange: handleChange,\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ReadLaterContainer, {\n    articles: ReadLaters,\n    handleRemove: article => removeArticles(article),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ArticleContainer, {\n    articles: data.articles,\n    handleArticles: article => getArticles(article),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(GoTop, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/Volumes/Transcend/projects/newsmore/src/App.js"],"names":["React","useState","useEffect","SearchBar","ArticleContainer","GoTop","ReadLaterContainer","API_KEY","process","env","REACT_APP_API_KEY","App","data","setData","articles","userInput","setUserInput","sortBy","setSortBy","ReadLaters","setReadLaters","handleChange","e","input","target","value","className","trimmedInput","replace","toLowerCase","console","log","endPoint","fetchData","userInputVal","sortByVal","language","apiKey","url","fetch","then","res","json","catch","error","handleSubmit","preventDefault","getArticles","article","method","headers","Accept","body","JSON","stringify","newArticle","handleRemove","filteredArticles","filter","art","id","removeArticles"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./css/style.scss\";\nimport SearchBar from \"./components/SearchBar\";\nimport ArticleContainer from \"./components/ArticleContainer\";\nimport GoTop from \"./components/GoTop\";\nimport ReadLaterContainer from \"./components/ReadLaterContainer\";\n\nconst API_KEY = process.env.REACT_APP_API_KEY;\n\nconst App = () => {\n  const [data, setData] = useState({ articles: [] });\n  const [userInput, setUserInput] = useState(\"\");\n  const [sortBy, setSortBy] = useState(\"\");\n  const [ReadLaters, setReadLaters] = useState([]);\n\n  const handleChange = (e) => {\n    const input = e.target.value;\n    switch (e.target.className) {\n      case \"UserSelect\":\n        setSortBy(input);\n        break;\n      case \"UserInput\":\n        const trimmedInput = input.replace(/^\\s+|\\s+$|\\s+(?=\\s)/g, \"\");\n        setUserInput(trimmedInput.toLowerCase());\n        break;\n      default:\n        console.log(\"User input not found\");\n    }\n  };\n\n  const endPoint = \"http://newsapi.org/v2/everything\";\n\n  async function fetchData() {\n    const userInputVal = `?q=\"${userInput}\"`;\n    const sortByVal = sortBy ? `&sortBy=${sortBy}` : `&sortBy=\"\"`;\n    const language = \"&language=en\";\n    const apiKey = `&apiKey=${API_KEY}`;\n    const url = endPoint + userInputVal + sortByVal + language + apiKey;\n\n    await fetch(url)\n      .then((res) => res.json())\n      .then((data) => setData({ articles: data.articles }))\n      .catch((error) => console.log(\"Request failed\", error));\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    fetchData();\n  };\n\n  const getArticles = (article) => {\n    fetch(\"http://localhost:3000/articles\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(article),\n    })\n      .then((res) => res.json())\n      .then((newArticle) => setReadLaters([...ReadLaters, newArticle]));\n  };\n\n  useEffect(() => {\n    getArticles();\n  }, []);\n\n  const handleRemove = (article) => {\n    let filteredArticles = [...ReadLaters].filter(\n      (art) => art.id !== article.id\n    );\n    setReadLaters([filteredArticles]);\n  };\n\n  useEffect(() => {\n    removeArticles();\n  }, []);\n\n  console.log(ReadLaters, \"read\");\n\n  return (\n    <div className=\"App\">\n      <header>\n        <SearchBar handleChange={handleChange} handleSubmit={handleSubmit} />\n      </header>\n      <main>\n        <ReadLaterContainer\n          articles={ReadLaters}\n          handleRemove={(article) => removeArticles(article)}\n        />\n        <ArticleContainer\n          articles={data.articles}\n          handleArticles={(article) => getArticles(article)}\n        />\n        <GoTop />\n      </main>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}